<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catholic Saints Network</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ffd700, #fff8dc, #daa520);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.8;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .filter-buttons {
            display: inline-flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        button.active {
            background: rgba(255, 215, 0, 0.3);
            border-color: #ffd700;
        }

        .network-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .node {
            cursor: pointer;
            stroke: #fff;
            stroke-width: 1.5px;
        }

        .node:hover {
            stroke-width: 3px;
        }

        .link {
            stroke: rgba(255, 255, 255, 0.3);
            stroke-opacity: 0.6;
        }

        .node-label {
            font-size: 11px;
            fill: white;
            text-anchor: middle;
            pointer-events: none;
            text-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            border: 1px solid rgba(255, 215, 0, 0.5);
            max-width: 300px;
            z-index: 1000;
        }

        .tooltip h3 {
            margin: 0 0 8px 0;
            color: #ffd700;
            font-size: 18px;
        }

        .tooltip p {
            margin: 5px 0;
            line-height: 1.4;
        }

        .tooltip .feast-day {
            color: #98d8c8;
            font-weight: bold;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .info-box {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Catholic Saints Network</h1>
        <p class="subtitle">Exploring connections between saints throughout history</p>
        
        <div class="controls">
            <div class="filter-buttons">
                <button class="active" onclick="filterAll()">All Saints</button>
                <button onclick="filterByType('apostle')">Apostles</button>
                <button onclick="filterByType('doctor')">Doctors of the Church</button>
                <button onclick="filterByType('founder')">Founders</button>
                <button onclick="filterByType('martyr')">Martyrs</button>
            </div>
        </div>

        <div class="network-container">
            <div id="network"></div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b;"></div>
                <span>Apostles & Early Church</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #4ecdc4;"></div>
                <span>Doctors of the Church</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #95e1d3;"></div>
                <span>Religious Founders</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffd93d;"></div>
                <span>Martyrs</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #a8e6cf;"></div>
                <span>Mystics & Contemplatives</span>
            </div>
        </div>

        <div class="info-box">
            <strong>How to use:</strong> Drag nodes to rearrange • Hover for saint details • Click filters to explore connections • Line thickness shows relationship strength
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Sample saints data with connections
        const saintsData = {
            nodes: [
                // Apostles & Early Church (red)
                { id: "peter", name: "St. Peter", type: "apostle", feastDay: "June 29", patronage: "Popes, Fishermen", year: 64, size: 20 },
                { id: "paul", name: "St. Paul", type: "apostle", feastDay: "June 29", patronage: "Writers, Missionaries", year: 67, size: 20 },
                { id: "john", name: "St. John", type: "apostle", feastDay: "December 27", patronage: "Love, Loyalty", year: 100, size: 18 },
                
                // Doctors of the Church (teal)
                { id: "augustine", name: "St. Augustine", type: "doctor", feastDay: "August 28", patronage: "Theologians, Printers", year: 430, size: 18 },
                { id: "aquinas", name: "St. Thomas Aquinas", type: "doctor", feastDay: "January 28", patronage: "Students, Universities", year: 1274, size: 18 },
                { id: "teresa-avila", name: "St. Teresa of Ávila", type: "doctor", feastDay: "October 15", patronage: "Spain, Headache sufferers", year: 1582, size: 16 },
                { id: "therese", name: "St. Thérèse of Lisieux", type: "doctor", feastDay: "October 1", patronage: "Missions, France", year: 1897, size: 16 },
                
                // Founders (light teal)
                { id: "benedict", name: "St. Benedict", type: "founder", feastDay: "July 11", patronage: "Europe, Students", year: 547, size: 17 },
                { id: "francis", name: "St. Francis of Assisi", type: "founder", feastDay: "October 4", patronage: "Animals, Ecology", year: 1226, size: 18 },
                { id: "dominic", name: "St. Dominic", type: "founder", feastDay: "August 8", patronage: "Astronomers, Dominican Order", year: 1221, size: 16 },
                { id: "ignatius", name: "St. Ignatius of Loyola", type: "founder", feastDay: "July 31", patronage: "Soldiers, Jesuits", year: 1556, size: 17 },
                
                // Martyrs (yellow)
                { id: "stephen", name: "St. Stephen", type: "martyr", feastDay: "December 26", patronage: "Deacons, Stonemasons", year: 36, size: 15 },
                { id: "lawrence", name: "St. Lawrence", type: "martyr", feastDay: "August 10", patronage: "Cooks, Poor", year: 258, size: 14 },
                { id: "cecilia", name: "St. Cecilia", type: "martyr", feastDay: "November 22", patronage: "Musicians, Singers", year: 230, size: 14 },
                
                // Mystics (light green)
                { id: "catherine-siena", name: "St. Catherine of Siena", type: "mystic", feastDay: "April 29", patronage: "Europe, Nurses", year: 1380, size: 16 },
                { id: "john-cross", name: "St. John of the Cross", type: "mystic", feastDay: "December 14", patronage: "Contemplatives, Mystics", year: 1591, size: 15 },
                { id: "padre-pio", name: "St. Padre Pio", type: "mystic", feastDay: "September 23", patronage: "Stress relief, Healing", year: 1968, size: 17 },
                
                // Additional saints
                { id: "anthony", name: "St. Anthony of Padua", type: "founder", feastDay: "June 13", patronage: "Lost items, Poor", year: 1231, size: 16 },
                { id: "clare", name: "St. Clare of Assisi", type: "founder", feastDay: "August 11", patronage: "Television, Eye disease", year: 1253, size: 14 },
                { id: "jerome", name: "St. Jerome", type: "doctor", feastDay: "September 30", patronage: "Translators, Librarians", year: 420, size: 15 },
                { id: "patrick", name: "St. Patrick", type: "founder", feastDay: "March 17", patronage: "Ireland, Engineers", year: 461, size: 16 }
            ],
            links: [
                // Apostolic connections
                { source: "peter", target: "paul", type: "contemporary" },
                { source: "peter", target: "john", type: "contemporary" },
                { source: "paul", target: "john", type: "contemporary" },
                { source: "peter", target: "stephen", type: "mentor" },
                
                // Early Church to Medieval
                { source: "augustine", target: "benedict", type: "influence" },
                { source: "augustine", target: "aquinas", type: "influence" },
                { source: "paul", target: "augustine", type: "influence" },
                
                // Medieval connections
                { source: "benedict", target: "francis", type: "influence" },
                { source: "francis", target: "dominic", type: "contemporary" },
                { source: "francis", target: "anthony", type: "mentor" },
                { source: "francis", target: "clare", type: "mentor" },
                { source: "dominic", target: "aquinas", type: "order" },
                
                // Counter-Reformation
                { source: "ignatius", target: "teresa-avila", type: "contemporary" },
                { source: "teresa-avila", target: "john-cross", type: "mentor" },
                
                // Doctors of the Church
                { source: "augustine", target: "jerome", type: "contemporary" },
                { source: "aquinas", target: "catherine-siena", type: "influence" },
                { source: "teresa-avila", target: "therese", type: "influence" },
                
                // Modern connections
                { source: "therese", target: "padre-pio", type: "influence" },
                { source: "francis", target: "padre-pio", type: "order" },
                
                // Additional connections
                { source: "lawrence", target: "cecilia", type: "contemporary" },
                { source: "patrick", target: "benedict", type: "influence" }
            ]
        };

        // Color mapping
        const colorMap = {
            apostle: '#ff6b6b',
            doctor: '#4ecdc4',
            founder: '#95e1d3',
            martyr: '#ffd93d',
            mystic: '#a8e6cf'
        };

        // Set up dimensions
        const width = 1200;
        const height = 700;

        // Create SVG
        const svg = d3.select("#network")
            .append("svg")
            .attr("width", width)
            .attr("height", height)
            .attr("viewBox", [0, 0, width, height]);

        // Create force simulation
        const simulation = d3.forceSimulation(saintsData.nodes)
            .force("link", d3.forceLink(saintsData.links).id(d => d.id).distance(100))
            .force("charge", d3.forceManyBody().strength(-400))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collision", d3.forceCollide().radius(d => d.size + 5));

        // Create links
        const link = svg.append("g")
            .selectAll("line")
            .data(saintsData.links)
            .join("line")
            .attr("class", "link")
            .attr("stroke-width", d => d.type === "mentor" ? 2 : 1);

        // Create nodes
        const node = svg.append("g")
            .selectAll("circle")
            .data(saintsData.nodes)
            .join("circle")
            .attr("class", "node")
            .attr("r", d => d.size)
            .attr("fill", d => colorMap[d.type])
            .call(drag(simulation));

        // Create labels
        const label = svg.append("g")
            .selectAll("text")
            .data(saintsData.nodes)
            .join("text")
            .attr("class", "node-label")
            .text(d => d.name.replace("St. ", ""))
            .attr("dy", d => d.size + 15);

        // Tooltip
        const tooltip = d3.select("#tooltip");

        // Node interactions
        node.on("mouseover", function(event, d) {
            d3.select(this)
                .transition()
                .duration(200)
                .attr("r", d => d.size * 1.3);

            tooltip
                .style("opacity", 1)
                .html(`
                    <h3>${d.name}</h3>
                    <p class="feast-day">Feast Day: ${d.feastDay}</p>
                    <p><strong>Patronage:</strong> ${d.patronage}</p>
                    <p><strong>Died:</strong> ${d.year} AD</p>
                `)
                .style("left", (event.pageX + 10) + "px")
                .style("top", (event.pageY - 10) + "px");
        })
        .on("mouseout", function(event, d) {
            d3.select(this)
                .transition()
                .duration(200)
                .attr("r", d => d.size);

            tooltip.style("opacity", 0);
        });

        // Update positions on tick
        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);

            label
                .attr("x", d => d.x)
                .attr("y", d => d.y);
        });

        // Drag functionality
        function drag(simulation) {
            function dragstarted(event) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                event.subject.fx = event.subject.x;
                event.subject.fy = event.subject.y;
            }

            function dragged(event) {
                event.subject.fx = event.x;
                event.subject.fy = event.y;
            }

            function dragended(event) {
                if (!event.active) simulation.alphaTarget(0);
                event.subject.fx = null;
                event.subject.fy = null;
            }

            return d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);
        }

        // Filter functions (basic implementation)
        let currentFilter = 'all';

        function filterAll() {
            currentFilter = 'all';
            updateButtons();
            node.style("opacity", 1);
            label.style("opacity", 1);
            link.style("opacity", 0.6);
        }

        function filterByType(type) {
            currentFilter = type;
            updateButtons();
            
            node.style("opacity", d => d.type === type ? 1 : 0.2);
            label.style("opacity", d => d.type === type ? 1 : 0.2);
            link.style("opacity", d => 
                (d.source.type === type || d.target.type === type) ? 0.6 : 0.1
            );
        }

        function updateButtons() {
            d3.selectAll("button").classed("active", false);
            d3.select(`button[onclick*="${currentFilter}"]`).classed("active", true);
        }
    </script>
</body>
</html>